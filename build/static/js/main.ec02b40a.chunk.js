(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{530:function(e,t,n){},630:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),o=n.n(a),i=(n(530),n(531),n(11)),s=n(681),u=n(680),l=n(690),j=n(123),d=n(40),p=n(87),b=n(486),f=n(487),h=n(269);function O(){var e=localStorage.getItem("access_token");return!!e&&Object(h.a)(e).exp>(new Date).getTime()/1e3}var g=Object(b.a)(Object(f.devtools)((function(e){return{auth:O(),setAuth:function(t){return e((function(e){return{auth:t}}))},invoices:[],setInvoices:function(t){return e((function(e){return{invoices:t}}))},allIinvoices:[],setAllInvoices:function(t){return e((function(e){return{allInvoices:t}}))},invoiceStati:[],setInvoiceStati:function(t){return e((function(e){return{invoiceStati:t}}))},projectsteps:[],setProjectsteps:function(t){return e((function(e){return{projectsteps:t}}))},projectHonorar:[],setProjectHonorar:function(t){return e((function(e){return{projectHonorar:t}}))},projectdata:{},setProjectdata:function(t){return e((function(e){return{projectdata:t}}))},editClientData:{},setEditClientData:function(t){return e((function(e){return{editClientData:t}}))},cropImage:null,setCropImage:function(t){return e((function(e){return{cropImage:t}}))},cropModalOpen:!1,setCropModalOpen:function(t){return e((function(e){return{cropModalOpen:t}}))},openClient:!1,setOpenClient:function(t){return e((function(e){return{openClient:t}}))},projectModalOpen:!1,setProjectModalOpen:function(t){return e((function(e){return{projectModalOpen:t}}))},editModalOpen:!1,setEditModalOpen:function(t){return e((function(e){return{editModalOpen:t}}))},invoiceCreateModel:!1,setInvoiceCreateModel:function(t){return e((function(e){return{invoiceCreateModel:t}}))},invoiceEditModel:!1,setInvoiceEditModel:function(t){return e((function(e){return{invoiceEditModel:t}}))},createOfferModel:!1,setCreateOfferModel:function(t){return e((function(e){return{createOfferModel:t}}))}}}))),x=n.p+"static/media/ubc.ebb132ce.svg",v=n(3);var m=function(e){var t=e.children,n=c.a.useState(!1),r=Object(i.a)(n,2),a=r[0],o=r[1],b=g((function(e){return e.auth})),f=g((function(e){return e.setAuth})),h=Object(d.g)(),O=localStorage.getItem("profile_name"),m=Object(v.jsx)(s.a.Menu,{position:"right",children:Object(v.jsx)(u.a,{item:!0,text:O,children:Object(v.jsxs)(u.a.Menu,{children:[Object(v.jsx)(u.a.Item,{children:"Profile"}),Object(v.jsx)(u.a.Item,{onClick:function(){return f(!1),localStorage.removeItem("access_token"),localStorage.removeItem("profile_name"),void h.push("/login")},children:"Logout"})]})})});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(s.a,{style:{margin:0},fixed:"top",children:[Object(v.jsx)(s.a.Item,{onClick:function(){o(!a)},children:Object(v.jsx)("i",{className:"fas fa-bars"})}),Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)(s.a.Item,{children:Object(v.jsx)("img",{style:{width:"80px"},src:x,alt:"logo"})})}),b?m:null]})}),Object(v.jsxs)(l.a.Pushable,{style:{},children:[Object(v.jsxs)(l.a,{as:s.a,animation:"push",icon:"labeled",vertical:!0,visible:a,width:"thin",style:{backgroundColor:"white",paddingTop:53.63},children:[Object(v.jsxs)(s.a.Item,{as:p.b,to:"/",children:[Object(v.jsx)(j.a,{name:"clipboard"}),"Projekte"]}),Object(v.jsxs)(s.a.Item,{as:p.b,to:"/clients",children:[Object(v.jsx)(j.a,{name:"address book"}),"Kunden"]}),Object(v.jsxs)(s.a.Item,{as:p.b,to:"/invoices",children:[Object(v.jsx)(j.a,{name:"eur"}),"Rechungen"]})]}),Object(v.jsx)(l.a.Pusher,{style:{overflow:"scroll",height:"100vh",paddingTop:53.63,transition:"400ms",paddingRight:a?148:0},children:t})]})]})},k=n(7),w=n.n(k),y=n(12),C=n(691),S=n(692),I=n(682),_=n(645),E=n(154),D=n.n(E).a.create({baseURL:"https://ubcdata.herokuapp.com/api/",timeout:5e3,headers:{"Content-Type":"application/json",accept:"application/json"}});D.interceptors.request.use(function(){var e=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=localStorage.getItem("access_token"))&&(t.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),D.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e);window.location.reload(!0)}));var F=D;var A=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),s=o[0],u=o[1],l=Object(r.useState)(""),j=Object(i.a)(l,2),p=j[0],b=j[1],f=g((function(e){return[e.auth,e.setAuth]})),O=Object(i.a)(f,2),x=(O[0],O[1]),m=Object(d.g)(),k=function(){var e=Object(y.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("token",{username:n,password:s});case 3:200===(t=e.sent).status&&(localStorage.setItem("access_token",t.data.access),localStorage.setItem("refresh_token",t.data.refresh),F.defaults.headers.Authorization="JWT "+localStorage.getItem("access_token"),r=Object(h.a)(t.data.access).name,localStorage.setItem("profile_name",r),x(!0),m.push("/")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data),b(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(C.a,{textAlign:"center",style:{height:"80%",maxWidth:"100%"},verticalAlign:"middle",children:Object(v.jsxs)(C.a.Column,{style:{maxWidth:420},children:[Object(v.jsx)(S.a,{as:"h2",color:"teal",textAlign:"center",children:"UBCDATA Log-in to your account"}),Object(v.jsxs)(I.a,{size:"large",children:[Object(v.jsx)(I.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"username",value:n,onChange:function(e){return c(e.target.value)}}),Object(v.jsx)(I.a.Input,{fluid:!0,error:p.detail&&{content:p.detail},icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:s,onChange:function(e){return u(e.target.value)}}),Object(v.jsx)(_.a,{onClick:function(){return k()},color:"teal",fluid:!0,size:"large",children:"Login"})]})]})})},P=n(17),M=n(500);var R=function(e){var t=e.component,n=Object(M.a)(e,["component"]),c=g((function(e){return e.auth})),a=g((function(e){return e.setAuth}));return Object(r.useEffect)((function(){c&&a(O())}),[]),Object(v.jsx)(d.b,Object(P.a)(Object(P.a)({},n),{},{render:function(e){return c?Object(v.jsx)(t,Object(P.a)(Object(P.a)({},n),e)):Object(v.jsx)(d.a,{to:"/login"})}}))},L=n(693),z=n(687),T=n(683),H=n(118),B=n.n(H);var N=function(e){var t=e.data,n=e.status,c=e.isLoading,a=e.rerenderfunc,o=Object(r.useState)(!1),s=Object(i.a)(o,2),u=s[0],l=s[1],j=Object(r.useState)({}),p=Object(i.a)(j,2),b=p[0],f=p[1],h=g((function(e){return[e.allInvoices,e.setAllInvoices]})),O=Object(i.a)(h,2),x=(O[0],O[1],Object(d.g)()),m=g((function(e){return e.setProjectModalOpen})),k=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/projects/".concat(b.id));case 3:a(),l(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C={},S=[];return c||(n.forEach((function(e){C[e.id]=e.name})),S=t.map((function(e){var t=new Date(e.created_at).toLocaleDateString("de",{hour:"numeric",minute:"numeric"});return{id:e.id,title:e.title,project_number:e.project_number,client:e.client&&e.client.name,created_at:t,status:e.status&&e.status.id,honorar:e.honorar}}))),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(B.a,{isLoading:c,title:"Projektliste",columns:[{title:"Nr.",field:"project_number"},{title:"Titel",field:"title"},{title:"Kunde",field:"client"},{title:"Erstellt",field:"created_at",type:"datetime"},{title:"Status",field:"status",lookup:C},{title:"Honorar",field:"honorar",type:"currency",currencySetting:{locale:"de",currencyCode:"EUR"}}],data:S,options:{actionsColumnIndex:-1,sorting:!0,filtering:!0,exportButton:!0},actions:[{icon:"edit",tooltip:"Projektdetails",onClick:function(e,t){x.push("/projects/".concat(t.id))}},{icon:"add",tooltip:"Neues Projekt",isFreeAction:!0,onClick:function(){m(!0)}},{icon:"delete",tooltip:"Projekt l\xf6schen",onClick:function(e,t){console.log(t),f(t),l(!0)}}]}),Object(v.jsxs)(T.a,{open:u,onClose:function(){return l(!1)},children:[Object(v.jsx)(T.a.Header,{children:"Projekt l\xf6schen"}),Object(v.jsxs)(T.a.Content,{children:["Das Project"," ",Object(v.jsxs)("strong",{children:[b.title," (",b.client,")"]})," ","wirklich l\xf6schen ?"]}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return l(!1)},children:"Abbrechen"}),Object(v.jsx)(_.a,{positive:!0,onClick:function(){return k()},children:"L\xf6schen"})]})]})]})},V=n(667);var U=function(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(i.a)(a,2),s=o[0],l=o[1],j=Object(r.useState)([]),d=Object(i.a)(j,2),p=d[0],b=d[1],f=Object(r.useState)({}),h=Object(i.a)(f,2),O=h[0],x=h[1],m=g((function(e){return e.setProjectModalOpen})),k=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/addProject/",Object(P.a)(Object(P.a)({},n),{},{status:1}));case 3:e.sent,m(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),x(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/clients/");case 3:t=e.sent,l(t.data.map((function(e){return{value:e.id,image:e.image,short:e.short,text:e.name}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/types/");case 3:t=e.sent,console.log(t),b(t.data.map((function(e){return{value:e.id,text:e.name,short:e.short}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C(),S()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T.a.Header,{children:"Neues Projekt"}),Object(v.jsx)(T.a.Content,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{label:"Title",control:V.a,error:O.name&&{content:O.name,pointing:"below"},onChange:function(e){return c((function(t){return Object(P.a)(Object(P.a)({},t),{},{title:e.target.value})}))},placeholder:"Title"}),Object(v.jsx)(I.a.Field,{selection:!0,label:"Typ",control:u.a,error:O.project_type&&{content:O.project_type,pointing:"below"},onChange:function(e,t){return c((function(e){return Object(P.a)(Object(P.a)({},e),{},{project_type:t.value})}))},fluid:!0,placeholder:"Projekttyp w\xe4hlen",options:p}),Object(v.jsx)(I.a.Field,{search:!0,selection:!0,control:u.a,label:"Kunde",error:O.client&&{content:O.client,pointing:"below"},onChange:function(e,t){return c((function(e){return Object(P.a)(Object(P.a)({},e),{},{client:t.value})}))},fluid:!0,placeholder:"Kunde ausw\xe4hlen",options:s})]})}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return m(!1)},children:"Abbrechen"}),Object(v.jsx)(_.a,{positive:!0,onClick:function(){return k()},children:"Projekt anlegen"})]})]})},K=n(472);var W=function(){var e=g((function(e){return[e.projectModalOpen,e.setProjectModalOpen]})),t=Object(i.a)(e,2),n=t[0],c=(t[1],Object(r.useState)(!0)),a=Object(i.a)(c,2),o=a[0],s=a[1],u=Object(r.useState)(void 0),l=Object(i.a)(u,2),j=l[0],d=l[1],p=Object(r.useState)(void 0),b=Object(i.a)(p,2),f=b[0],h=b[1],O=g((function(e){return[e.allInvoices,e.setAllInvoices]})),x=Object(i.a)(O,2),m=(x[0],x[1],Object(r.useState)(0)),k=Object(i.a)(m,2),S=k[0],I=k[1],_=Object(r.useState)(void 0),E=Object(i.a)(_,2),D=E[0],A=E[1],M=Object(r.useState)(void 0),R=Object(i.a)(M,2),H=R[0],B=R[1],V=Object(r.useState)(void 0),W=Object(i.a)(V,2),q=W[0],Z=W[1],G=Object(r.useState)(void 0),J=Object(i.a)(G,2),Q=J[0],X=J[1],Y=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("status");case 3:t=e.sent,h(t.data),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(y.a)(w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("projects/");case 3:return t=e.sent,e.next=6,F.get("/invoicesall/");case 6:n=e.sent,r=t.data.map((function(e){var t=n.data.filter((function(t){return t.project===e.id})).map((function(e){return parseFloat(e.amount)}));return Object(P.a)(Object(P.a)({},e),{},{honorar:K.sum(t)})})),d(r),console.log(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){j&&f&&(s(!1),ee())}),[j,f]);var ee=function(){var e=j.filter((function(e){return 1!=e.status.order&&5!=e.status.order}));A(e.length),B(K.sum(e.map((function(e){return e.honorar}))));var t=j.filter((function(e){return 1==e.status.order}));Z(t.length),X(K.sum(t.map((function(e){return e.honorar}))))};Object(r.useEffect)((function(){$(),Y()}),[n,S]);var te={display:"flex",alignItems:"center",justifyContent:"center"};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(C.a,{stackable:!0,columns:3,children:Object(v.jsxs)(C.a.Row,{stretched:!0,children:[Object(v.jsx)(C.a.Column,{width:12,children:Object(v.jsx)(N,{data:j,isLoading:o,status:f,rerenderfunc:function(){I((function(e){return e+1}))}})}),Object(v.jsxs)(C.a.Column,{width:4,children:[Object(v.jsx)(L.a,{loading:void 0==D,style:te,children:Object(v.jsxs)(z.a,{size:"small",children:[Object(v.jsx)(z.a.Value,{children:D}),Object(v.jsx)(z.a.Label,{children:"Aktive Projekte"})]})}),Object(v.jsx)(L.a,{loading:void 0==H,style:te,children:Object(v.jsxs)(z.a,{size:"small",children:[Object(v.jsx)(z.a.Value,{children:H&&H.toLocaleString("de")+" \u20ac"}),Object(v.jsx)(z.a.Label,{children:"Auftragssumme"})]})}),Object(v.jsx)(L.a,{loading:void 0==q,style:te,children:Object(v.jsxs)(z.a,{size:"small",children:[Object(v.jsx)(z.a.Value,{children:q}),Object(v.jsx)(z.a.Label,{children:"Projekte in Aussicht"})]})}),Object(v.jsx)(L.a,{loading:void 0==Q,style:te,children:Object(v.jsxs)(z.a,{size:"small",children:[Object(v.jsx)(z.a.Value,{children:Q&&Q.toLocaleString("de")+" \u20ac"}),Object(v.jsx)(z.a.Label,{children:"Honorar in Aussicht"})]})})]})]})}),Object(v.jsx)(T.a,{open:n,children:Object(v.jsx)(U,{})})]})},q=n(694),Z=n(501),G=n(307),J=n.n(G),Q=n.p+"static/media/sample.99776b0e.svg",X=n(492),Y=n(493),$=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.setAttribute("crossOrigin","anonymous"),r.src=e}))};function ee(e){return e*Math.PI/180}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(y.a)(w.a.mark((function e(t,n){var r,c,a,o,i,s,u,l=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:0,e.next=3,$(t);case 3:return c=e.sent,a=document.createElement("canvas"),o=a.getContext("2d"),i=Math.max(c.width,c.height),s=i/2*Math.sqrt(2)*2,a.width=s,a.height=s,o.translate(s/2,s/2),o.rotate(ee(r)),o.translate(-s/2,-s/2),o.drawImage(c,s/2-.5*c.width,s/2-.5*c.height),u=o.getImageData(0,0,s,s),a.width=n.width,a.height=n.height,o.putImageData(u,Math.round(0-s/2+.5*c.width-n.x),Math.round(0-s/2+.5*c.height-n.y)),e.abrupt("return",new Promise((function(e){a.toBlob((function(t){e(URL.createObjectURL(t))}),"image/png")})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=n(502);var ce=function(){var e=Object(r.useState)({x:0,y:0}),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(1),o=Object(i.a)(a,2),s=o[0],u=o[1],l=Object(r.useState)(null),j=Object(i.a)(l,2),d=j[0],p=j[1],b=g((function(e){return[e.cropImage,e.setCropImage]})),f=Object(i.a)(b,2),h=(f[0],f[1]),O=g((function(e){return e.setCropModalOpen})),x=Object(r.useCallback)((function(e,t){p(t)}),[]),m=function(){var e=Object(y.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.imageq,e.prev=1,e.next=4,te(t,d);case 4:n=e.sent,h(n),O(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),k={start:0,min:0,max:3,step:.01,onChange:function(e){u(e)}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(X.Gluejar,{onError:function(e){return console.error(e)},children:function(e){var t=e.images;return window.imageq=t.slice(-1),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L.a,{textAlign:"center",compact:!0,style:{padding:"1rem"},children:t.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Y.Slider,{style:{marginBottom:"1rem"},value:s,color:"red",settings:k}),Object(v.jsx)("div",{style:{position:"relative",height:"250px",width:"250px"},children:Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(re.a,{cropSize:{width:200,height:200},image:window.imageq,crop:n,zoom:s,min:1,max:3,restrictPosition:!1,aspect:1,onCropChange:c,onCropComplete:x})})}),Object(v.jsx)(_.a,{style:{marginTop:"1rem"},onClick:function(){return m()},children:"Cut Image"})]}):Object(v.jsx)("div",{style:{height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)("h4",{children:"Paste Image"})})})})}})})};var ae=function(){var e=g((function(e){return[e.cropModalOpen,e.setCropModalOpen]})),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),s=o[0],l=o[1],j=Object(r.useState)(""),d=Object(i.a)(j,2),p=(d[0],d[1],Object(r.useState)({})),b=Object(i.a)(p,2),f=b[0],h=b[1],O=g((function(e){return e.cropImage})),x=g((function(e){return e.setOpenClient})),m=Object(r.useState)([]),k=Object(i.a)(m,2),C=k[0],S=k[1],E=Object(r.useState)(),D=Object(i.a)(E,2),A=D[0],P=D[1],M=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/artikel/");case 3:t=e.sent,console.log(t.data),S(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(y.a)(w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(O),e.prev=1,t=new FormData,null==O){e.next=11;break}return e.next=6,fetch(O).then((function(e){return e.blob()})).then((function(e){return new File([e],"".concat(s,".png"),{type:"image/png"})}));case 6:return n=e.sent,e.next=9,J()({file:n,width:300,height:300,type:"png"});case 9:r=e.sent,t.append("image",r);case 11:return t.append("name",s),t.append("artikel",A),e.next=15,F.post("/kunden/",t);case 15:x(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0.response),h(e.t0.response.data);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){M()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:{width:"250px"},children:[Object(v.jsx)(Z.a,{fluid:!0,src:O||Q,onClick:function(){return c(!0)},style:{cursor:"pointer",padding:"1rem"}}),Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{onChange:function(e){return l(e.target.value)},value:s,control:V.a,error:f.name&&{content:f.name,pointing:"below"},placeholder:"Name"}),Object(v.jsx)(I.a.Field,{selection:!0,control:u.a,onChange:function(e,t){return P(t.value)},fluid:!0,placeholder:"Artikel (z.B. das Klinikum)",options:C.map((function(e){return{value:e.id,text:e.nominativ}}))})]}),Object(v.jsx)(_.a,{onClick:function(){return R()},style:{display:"block",width:"100%",marginTop:".5rem"},content:"Erstellen"})]}),Object(v.jsxs)(T.a,{size:"mini",open:n,onClose:function(){return c(!1)},children:[Object(v.jsx)(T.a.Header,{children:"Trim Image"}),Object(v.jsx)(T.a.Content,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(ce,{})})]})]})};var oe=function(e){var t=e.data,n=e.editPortal,r=g((function(e){return e.setOpenClient})),c=g((function(e){return[e.editClientData,e.setEditClientData]})),a=Object(i.a)(c,2),o=(a[0],a[1]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(B.a,{title:"Projektliste",columns:[{title:"Logo",field:"image",render:function(e){return Object(v.jsx)(Z.a,{src:e.image,style:{height:"40px"},rounded:!0})}},{title:"Kunde",field:"name"}],data:t,options:{actionsColumnIndex:-1,sorting:!0,exportButton:!0},actions:[{icon:"edit",tooltip:"Projektdetails",onClick:function(e,t){n(!0),console.log(t),o(t)}},{icon:"delete",tooltip:"Projekt l\xf6schen",onClick:function(e,t){console.log(t)}},{icon:"add",isFreeAction:!0,onClick:function(){r(!0)}}]})})};var ie=function(e){var t=e.editPortal,n=g((function(e){return[e.cropModalOpen,e.setCropModalOpen]})),c=Object(i.a)(n,2),a=c[0],o=c[1],s=g((function(e){return[e.editClientData,e.setEditClientData]})),l=Object(i.a)(s,2),j=l[0],d=(l[1],Object(r.useState)(j.name)),p=Object(i.a)(d,2),b=p[0],f=p[1],h=Object(r.useState)({}),O=Object(i.a)(h,2),x=O[0],m=O[1],k=g((function(e){return e.cropImage})),C=(g((function(e){return e.setOpenClient})),Object(r.useState)([])),S=Object(i.a)(C,2),E=S[0],D=S[1],A=Object(r.useState)(j.artikel),P=Object(i.a)(A,2),M=P[0],R=P[1],L=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/artikel/");case 3:t=e.sent,console.log(t.data),D(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(w.a.mark((function e(){var n,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(k),e.prev=1,n=new FormData,null==k){e.next=11;break}return e.next=6,fetch(k).then((function(e){return e.blob()})).then((function(e){return new File([e],"".concat(b,".png"),{type:"image/png"})}));case 6:return r=e.sent,e.next=9,J()({file:r,width:300,height:300,type:"png"});case 9:c=e.sent,n.append("image",c);case 11:return n.append("name",b),n.append("artikel",M),e.next=15,F.put("/clients/".concat(j.id,"/"),n);case 15:t(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0.response),m(e.t0.response.data);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){L()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:{width:"250px"},children:[Object(v.jsx)(Z.a,{fluid:!0,src:k||j.image,onClick:function(){return o(!0)},style:{cursor:"pointer",padding:"1rem"}}),Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{onChange:function(e){return f(e.target.value)},value:b,control:V.a,error:x.name&&{content:x.name,pointing:"below"},placeholder:"Name"}),Object(v.jsx)(I.a.Field,{selection:!0,control:u.a,value:M,onChange:function(e,t){return R(t.value)},fluid:!0,placeholder:"Artikel (z.B. das Klinikum)",options:E.map((function(e){return{value:e.id,text:e.nominativ}}))})]}),Object(v.jsx)(_.a,{onClick:function(){return z()},style:{display:"block",width:"100%",marginTop:".5rem"},content:"Erstellen"})]}),Object(v.jsxs)(T.a,{size:"mini",open:a,onClose:function(){return o(!1)},children:[Object(v.jsx)(T.a.Header,{children:"Trim Image"}),Object(v.jsx)(T.a.Content,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(ce,{})})]})]})};var se=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=(g((function(e){return e.cropImage})),g((function(e){return[e.openClient,e.setOpenClient]}))),o=Object(i.a)(a,2),s=o[0],u=o[1],l=Object(r.useState)(!1),j=Object(i.a)(l,2),d=j[0],p=j[1],b=function(e){p(e)},f=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/clients/");case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f()}),[s,d]),Object(v.jsxs)("div",{children:[Object(v.jsx)(oe,{data:n,editPortal:b}),Object(v.jsx)(q.a,{open:s,children:Object(v.jsxs)(L.a,{style:{left:0,right:0,marginLeft:"auto",marginRight:"auto",position:"fixed",width:"280px",top:"20%",zIndex:1e3},children:[Object(v.jsx)(S.a,{children:"Neuen Kunden anlegen"}),Object(v.jsx)(ae,{}),Object(v.jsx)(_.a,{style:{marginTop:".5rem"},fluid:!0,content:"Abbrechen",negative:!0,onClick:function(){return u(!1)}})]})}),Object(v.jsx)(q.a,{open:d,children:Object(v.jsxs)(L.a,{style:{left:0,right:0,marginLeft:"auto",marginRight:"auto",position:"fixed",width:"280px",top:"20%",zIndex:1e3},children:[Object(v.jsx)(S.a,{children:"Kunden bearbeiten"}),Object(v.jsx)(ie,{editPortal:b}),Object(v.jsx)(_.a,{style:{marginTop:".5rem"},fluid:!0,content:"Abbrechen",negative:!0,onClick:function(){return p(!1)}})]})})]})},ue=n(685),le=n(688),je=n(678),de=n(679),pe=n(495),be=n(472),fe=function(e){var t=e.filepath,n=e.filename,r=e.data,c=e.render,a=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(y.a)(w.a.mark((function e(t,n,r){var c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.blob();case 5:return a=e.sent,e.abrupt("return",{_type:"image",source:a,format:a.type,width:n,height:r});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function i(e,t){var n=URL.createObjectURL(t),r=document.createElement("a");r.download=e,r.href=n,document.body.appendChild(r),r.click(),setTimeout((function(){r.remove(),window.URL.revokeObjectURL(n),r=null}),0)}var s=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(r).forEach((function(e){r[e]&&(be.isArray(r[e])?r[e].forEach((function(t,n){Object.keys(t).forEach((function(t){r[e][n][t].isImage&&o(r[e][n][t].url,r[e][n][t].width,r[e][n][t].height).then((function(c){return r[e][n][t]=c}))}))})):r[e].isImage&&o(r[e].url,r[e].width,r[e].height).then((function(t){return r[e]=t})))})),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c(function(){var e=Object(y.a)(w.a.mark((function e(){var r,c,o,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new pe.a,e.next=3,a(t);case 3:return c=e.sent,e.next=6,s();case 6:return o=e.sent,e.next=9,r.process(c,o);case 9:u=e.sent,i(n,u);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())};fe.defaultProps={render:function(e){return Object(v.jsx)("button",{onClick:function(){return e()},children:"Word-Document"})}};var he=fe,Oe=n(161);var ge=function(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)({}),o=Object(i.a)(a,2),s=o[0],u=(o[1],g((function(e){return[e.invoiceCreateModel,e.setInvoiceCreateModel]}))),l=Object(i.a)(u,2),j=(l[0],l[1]),d=g((function(e){return e.projectdata})),p=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/invoices/",Object(P.a)(Object(P.a)({},n),{},{project:d.id,status:1,invoice_number:"RN"}));case 3:t=e.sent,console.log(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:j(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){console.log(n)}),[n]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T.a.Header,{children:"Neue Rechnung"}),Object(v.jsx)(T.a.Content,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{label:"Rechnungsname",control:V.a,error:s.name&&{content:s.name,pointing:"below"},onChange:function(e){return c((function(t){return Object(P.a)(Object(P.a)({},t),{},{title:e.target.value})}))},placeholder:"Title"}),Object(v.jsxs)(I.a.Field,{children:[Object(v.jsx)("label",{children:"Rechnungsbetrag"}),Object(v.jsx)(Oe.a,{placeholder:"Betrag in \u20ac (netto)",value:n.amount,onValueChange:function(e){e.formattedValue;var t=e.value;c((function(e){return Object(P.a)(Object(P.a)({},e),{},{amount:t})}))},isNumericString:!0,decimalScale:2,thousandSeparator:".",decimalSeparator:",",prefix:"\u20ac ",customInput:V.a})]}),Object(v.jsx)(I.a.Field,{label:"Vorraussichtliche Rechnungsstellung",control:V.a,error:s.name&&{content:s.name,pointing:"below"},onChange:function(e){return c((function(t){return Object(P.a)(Object(P.a)({},t),{},{date_of_payment:e.target.value})}))},placeholder:"Title",type:"date"})]})}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return j(!1)},children:"Disagree"}),Object(v.jsx)(_.a,{positive:!0,onClick:function(){return p()},children:"Agree"})]})]})};var xe=function(e){var t=e.invoiceID,n=g((function(e){return e.invoices})).find((function(e){return e.id===t})),c=Object(r.useState)(Object(P.a)({},n)),a=Object(i.a)(c,2),o=a[0],s=a[1],l=Object(r.useState)({}),j=Object(i.a)(l,2),d=j[0],p=(j[1],g((function(e){return[e.invoiceEditModel,e.setInvoiceEditModel]}))),b=Object(i.a)(p,2),f=(b[0],b[1]),h=g((function(e){return[e.invoiceStati,e.setInvoiceStati]})),O=Object(i.a)(h,2),x=O[0],m=(O[1],function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put("invoices/".concat(n.id),Object(P.a)({},o));case 3:t=e.sent,console.log(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return Object(r.useEffect)((function(){console.log(o)}),[o]),Object(r.useEffect)((function(){console.log(x),console.log(n)}),[x]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T.a.Header,{children:"Neue Rechnung"}),Object(v.jsx)(T.a.Content,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{label:"Rechnungsname",control:V.a,value:o.title,error:d.name&&{content:d.name,pointing:"below"},onChange:function(e){return s((function(t){return Object(P.a)(Object(P.a)({},t),{},{title:e.target.value})}))},placeholder:"Title"}),Object(v.jsxs)(I.a.Field,{children:[Object(v.jsx)("label",{children:"Rechnungsbetrag"}),Object(v.jsx)(Oe.a,{placeholder:"Betrag in \u20ac (netto)",value:o.amount,onValueChange:function(e){console.log(e);e.formattedValue;var t=e.value;s((function(e){return Object(P.a)(Object(P.a)({},e),{},{amount:t})}))},isNumericString:!0,decimalScale:2,thousandSeparator:".",decimalSeparator:",",prefix:"\u20ac ",customInput:V.a})]}),Object(v.jsx)(I.a.Field,{selection:!0,label:"Status",control:u.a,value:o.status,error:d.project_type&&{content:d.project_type,pointing:"below"},onChange:function(e,t){return s((function(e){return Object(P.a)(Object(P.a)({},e),{},{status:t.value})}))},fluid:!0,placeholder:"Projekttyp w\xe4hlen",options:x}),Object(v.jsx)(I.a.Field,{label:"Rechnungsstellung",control:V.a,disabled:1==o.status,value:o.date_of_invoicing,error:d.name&&{content:d.name,pointing:"below"},onChange:function(e){return s((function(t){return Object(P.a)(Object(P.a)({},t),{},{date_of_invoicing:e.target.value})}))},placeholder:"Title",type:"date"}),Object(v.jsx)(I.a.Field,{label:"Vorraussichtlicher Zahlungseingang",control:V.a,value:o.date_of_payment,error:d.name&&{content:d.name,pointing:"below"},onChange:function(e){return s((function(t){return Object(P.a)(Object(P.a)({},t),{},{date_of_payment:e.target.value})}))},placeholder:"Title",type:"date"})]})}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return f(!1)},children:"Disagree"}),Object(v.jsx)(_.a,{positive:!0,onClick:function(){return m()},children:"Agree"})]})]})},ve=n.p+"static/media/re_vorlage.0c790b2b.docx";var me=function(e){var t=e.projectID,n=new Intl.NumberFormat("de",{style:"currency",currency:"EUR"}),c=g((function(e){return[e.invoices,e.setInvoices]})),a=Object(i.a)(c,2),o=a[0],s=a[1],u=g((function(e){return[e.invoiceCreateModel,e.setInvoiceCreateModel]})),l=Object(i.a)(u,2),d=l[0],p=l[1],b=g((function(e){return[e.invoiceEditModel,e.setInvoiceEditModel]})),f=Object(i.a)(b,2),h=f[0],O=f[1],x=g((function(e){return[e.invoiceStati,e.setInvoiceStati]})),m=Object(i.a)(x,2),k=m[0],C=m[1],S=Object(r.useState)([]),I=Object(i.a)(S,2),E=I[0],D=I[1],A=g((function(e){return e.projectdata})),M=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/artikel/");case 3:t=e.sent,D(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/invoicestatus/");case 3:t=e.sent,C(t.data.map((function(e){return{value:e.id,text:e.name,icon:e.icontext}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=Object(r.useState)(!0),z=Object(i.a)(L,2),H=z[0],N=z[1],V=Object(r.useState)(!1),U=Object(i.a)(V,2),K=U[0],W=U[1],q=Object(r.useState)({}),Z=Object(i.a)(q,2),G=Z[0],J=Z[1],Q=function(){var e=Object(y.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("invoices",{params:{id:t}});case 3:n=e.sent,s(n.data),N(!1),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("invoices/".concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 8:W(!1);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=o.findIndex((function(e){return e.id===t})),e.next=4,F.put("invoices/".concat(t),Object(P.a)(Object(P.a)({},o[n]),{},{status:3===o[n].status?1:o[n].status+1}));case 4:r=e.sent,s(o.map((function(e,t){return t===n?r.data:e}))),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){R(),M()}),[]),Object(r.useEffect)((function(){Q()}),[d,K,h]),Object(r.useEffect)((function(){console.log(o)}),[o]),Object(v.jsxs)(v.Fragment,{children:[H?Object(v.jsx)(le.a,{active:!0,inverted:!0,children:Object(v.jsx)(je.a,{size:"medium",children:"Loading"})}):Object(v.jsx)(B.a,{title:"Rechnungen",style:{boxShadow:"none"},columns:[{title:"Name",field:"title"},{title:"RN",field:"invoice_number"},{title:"Betrag",field:"amount",type:"currency",currencySetting:{locale:"de",currencyCode:"EUR"}},{title:"Status",field:"status",render:function(e){var t=k.find((function(t){return t.value===e.status}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{style:{marginRight:".2rem"},children:t&&t.text}),Object(v.jsx)(j.a,{color:t&&3===t.value?"green":t&&2===t.value?"yellow":"black",name:t&&t.icon})]})}},{title:"Stellung",field:"date_of_invoicing",type:"date"},{title:"Eingang",field:"date_of_payment",type:"date",render:function(e){var t=new Date(e.date_of_payment).toLocaleDateString("de");return Object(v.jsx)("span",{style:{color:3===e.status?"#016936":"#FFD700"},children:t})}}],actions:[{icon:"word",color:"grey",tooltip:"status",onClick:function(e,t){Y(t.id)}},{icon:"edit",color:"blue",tooltip:"Bearbeiten",onClick:function(e,t){J(t),O(!0)}},{icon:"delete",color:"red",tooltip:"Rechnung l\xf6schen",onClick:function(e,t){J(t),W(!0)}},{icon:"add",tooltip:"Neue Rechnung",color:"grey",isFreeAction:!0,onClick:function(e){return p(!0)}}],components:{Action:function(e){var t=e.data,r=E.find((function(e){return A.client&&e.id===A.client.artikel})),c=[];A.part&&c.push({item:A.part}),A.contact&&c.push({item:A.contact}),A.street&&c.push({item:A.street}),A.plz&&A.place&&c.push({item:A.plz+" "+A.place});var a={date:(new Date).toLocaleDateString("de"),logo:{isImage:!0,url:A.client&&A.client.image,width:20,height:20},invoice_number:t.invoice_number,netto:n.format(t.amount),tax:n.format(.19*t.amount),brutto:n.format(1.19*t.amount),clientname:A.client&&A.client.name,project_number:A.project_number,title:A.title,artikel:r&&r.nominativ,street:A.street,plz:A.plz,place:A.place,contact:A.contact,adresse:c,part:A.part,contactSalut:A.contact?"Herr"===A.contact.substring(0,4)?"sehr geehrter ".concat(A.contact):"Frau"===A.contact.substring(0,4)?"sehr geehrte ".concat(A.contact):"":"Sehr geehrte Damen und Herren"};return"word"===e.action.icon?Object(v.jsx)(he,{filepath:ve,filename:"".concat(t.invoice_number,".docx"),data:a,render:function(e){return Object(v.jsx)(j.a,{name:"file word",size:"large",color:"blue",style:{cursor:"pointer"},onClick:function(){return e()}})}}):Object(v.jsx)(de.a,{content:e.action.tooltip,trigger:Object(v.jsx)(j.a,{color:e.action.color,style:{cursor:"pointer"},size:"large",name:e.action.icon,onClick:function(t){return e.action.onClick(t,e.data)}})})}},data:o,options:{actionsColumnIndex:-1,sorting:!0,showTitle:!0,toolbar:!0,pageSize:4,search:!1,pageSizeOptions:[]}}),Object(v.jsxs)(T.a,{open:K,onClose:function(){return W(!1)},children:[Object(v.jsx)(T.a.Header,{children:"Rechnung l\xf6schen"}),Object(v.jsxs)(T.a.Content,{children:["Rechnung ",G.title," wirklich l\xf6schen ?"]}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return W(!1)},children:"Disagree"}),Object(v.jsx)(_.a,{positive:!0,onClick:function(){return X(G.id)},children:"Agree"})]})]}),Object(v.jsx)(T.a,{open:h,onClose:function(){return O(!1)},children:Object(v.jsx)(xe,{invoiceID:G.id})}),Object(v.jsx)(T.a,{open:d,onClose:function(){return p(!1)},children:Object(v.jsx)(ge,{})})]})},ke=n(476);var we=function(e){var t=e.projectID,n=g((function(e){return[e.projectdata,e.setProjectdata]})),c=Object(i.a)(n,2),a=c[0],o=c[1],s=g((function(e){return[e.projectsteps,e.setProjectsteps]})),u=Object(i.a)(s,2),l=u[0],d=u[1],p=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("status");case 3:t=e.sent,d(t.data),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(y.a)(w.a.mark((function e(n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put("projects/".concat(t,"/"),{status:n,title:a.title,project_number:a.project_number});case 3:r=e.sent,o(r.data),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=l.map((function(e){return ke.isEmpty(a)?null:Object(v.jsxs)(ue.a,{completed:a.status>=e.order,active:a.status+1===e.order,onClick:function(){return b(e.order)},children:[Object(v.jsx)(j.a,{name:e.icontext}),Object(v.jsxs)(ue.a.Content,{children:[Object(v.jsx)(ue.a.Title,{children:e.name}),Object(v.jsx)(ue.a.Description,{children:e.subtext})]})]},e.id)}));return Object(r.useEffect)((function(){p()}),[]),Object(v.jsx)(v.Fragment,{children:f})},ye=n(684);var Ce=function(){var e=Object(d.g)(),t=g((function(e){return e.projectdata})),n=g((function(e){return[e.editModalOpen,e.setEditModalOpen]})),c=Object(i.a)(n,2),a=(c[0],c[1]),o=Object(r.useState)({title:t.title,place:t.place,street:t.street,plz:t.plz,part:t.part,contact:t.contact&&t.contact.substring(5),client:t.client.id}),s=Object(i.a)(o,2),l=s[0],j=s[1],p=[{value:1,text:"Herr"},{value:2,text:"Frau"}],b=Object(r.useState)(t.contact&&"Herr"===t.contact.substring(0,4)?p[0]:p[1]),f=Object(i.a)(b,2),h=f[0],O=f[1],x=Object(r.useState)([]),m=Object(i.a)(x,2),k=m[0],C=m[1],S=Object(r.useState)(""),E=Object(i.a)(S,2),D=E[0],A=(E[1],function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/clients/");case 3:t=e.sent,C(t.data.map((function(e){return{value:e.id,image:e.image,short:e.short,text:e.name}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()),M=function(){var n=Object(y.a)(w.a.mark((function n(){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.put("/projectupdate/".concat(t.id,"/"),Object(P.a)(Object(P.a)({},l),{},{title:l.title,client:l.client,contact:l.contact?h.text+" "+l.contact:null,place:l.place?l.place:null,street:l.street?l.street:null,plz:l.plz?l.plz:null,part:l.part?l.part:null}));case 3:n.sent,n.next=11;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0),401===n.t0.response.status&&e.push("/login"),console.log(n.t0.response);case 11:a(!1);case 12:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){A()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(T.a.Header,{children:["Projekt: ",Object(v.jsx)("span",{style:{color:"red"},children:t.title})]}),Object(v.jsx)(T.a.Content,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{label:"Title",control:V.a,value:l.title,error:D.name&&{content:D.name,pointing:"below"},onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{title:e.target.value})}))},placeholder:"Title"}),Object(v.jsx)(I.a.Field,{search:!0,selection:!0,control:u.a,value:l.client,label:"Kunde",error:D.client&&{content:D.client,pointing:"below"},onChange:function(e,t){return j((function(e){return Object(P.a)(Object(P.a)({},e),{},{client:t.value})}))},options:k,fluid:!0,placeholder:"Kunde ausw\xe4hlen"}),Object(v.jsx)(I.a.Field,{label:"Ort",control:V.a,value:l.place,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{place:e.target.value})}))},placeholder:"Ort"}),Object(v.jsx)(I.a.Field,{label:"Stra\xdfe + Hausnummer",control:V.a,value:l.street,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{street:e.target.value})}))},placeholder:"Stra\xdfe"}),Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a.Field,{width:4,selection:!0,control:u.a,value:h.value,label:"Anrede",error:D.client&&{content:D.client,pointing:"below"},onChange:function(e,t){O(1===t.value?p[0]:p[1])},options:[{value:1,text:"Herr"},{value:2,text:"Frau"}],fluid:!0}),Object(v.jsx)(I.a.Field,{width:12,label:"Kontaktperson",control:V.a,value:l.contact,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{contact:e.target.value})}))},placeholder:"z.B. Dr. M\xfcller"})]}),Object(v.jsx)(I.a.Field,{label:"Abteilung",control:V.a,value:l.part,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{part:e.target.value})}))},placeholder:"z.B. Herr Dr. M\xfcller"}),Object(v.jsx)(I.a.Field,{label:"Postleitzahl",control:V.a,value:l.plz,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{plz:e.target.value})}))},placeholder:"plz"})]})}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return a(!1)},children:"Abbrechen"}),Object(v.jsx)(_.a,{positive:!0,onClick:function(){return M()},children:"Projekt updated"})]})]})},Se=n.p+"static/media/an_vorlage.330eb221.docx";var Ie=function(){var e=g((function(e){return e.projectdata})),t=g((function(e){return e.projectHonorar})),n=g((function(e){return[e.createOfferModel,e.setCreateOfferModel]})),c=Object(i.a)(n,2),a=(c[0],c[1]),o=Object(r.useState)([]),s=Object(i.a)(o,2),l=s[0],j=s[1],d=Object(r.useState)([]),p=Object(i.a)(d,2),b=p[0],f=p[1],h=Object(r.useState)([]),O=Object(i.a)(h,2),x=O[0],m=O[1],k=Object(r.useState)(),C=Object(i.a)(k,2),S=C[0],E=C[1],D=Object(r.useState)(),A=Object(i.a)(D,2),M=A[0],R=A[1],L=Object(r.useState)(),z=Object(i.a)(L,2),H=z[0],B=z[1],N=new Date,U=(new Date).setDate(N.getDate()+30),K=new Date(U),W=Object(r.useState)({title:e.title,place:e.place,date:N.toLocaleDateString("de-DE"),dateTo:K.toLocaleDateString("de-DE"),client_name:e.client.name,client_image:{isImage:!0,url:e.client.image,width:100,height:100},project_number:e.project_number,project_numbers:e.project_number,honorar:t,honorarstring:t.toLocaleString("de-DE",{style:"currency",currency:"EUR"}),suply:350,suplystring:350..toLocaleString("de-DE",{style:"currency",currency:"EUR"})}),q=Object(i.a)(W,2),Z=q[0],G=q[1],J=function(){var t=Object(y.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.get("artikel/");case 3:n=t.sent,G((function(t){return Object(P.a)(Object(P.a)({},t),n.data.find((function(t){return t.id===e.client.artikel})))})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("skill/");case 3:t=e.sent,f(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("crew/");case 3:t=e.sent,j(t.data.map((function(e){return{value:e.id,image:e.image,text:e.short,name:e.name,role:e.role,mobile:e.mobile}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){X(),Q(),J()}),[]),Object(r.useEffect)((function(){console.log(Z)}),[Z]),Object(r.useEffect)((function(){console.log(b)}),[b]),Object(r.useEffect)((function(){var e=l.filter((function(e){return x.includes(e.value)})).map((function(e){return{crew_name:e.name,crew_role:e.role,crew_mobile:e.mobile,crew_image:{isImage:!0,url:e.image,width:120,height:140},crew_skills:b.filter((function(t){return t.crew===e.value}))}}));G((function(t){return Object(P.a)(Object(P.a)({},t),{},{crew:e})}))}),[x]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(T.a.Header,{children:["Projekt: ",Object(v.jsx)("span",{style:{color:"red"},children:e.title})]}),Object(v.jsx)(T.a.Content,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Field,{selection:!0,control:u.a,label:"Projektart",fluid:!0,placeholder:"Art ausw\xe4hlen",options:[{value:0,text:"Wirtschaftlichkeits- & Strukturanalyse",code:"WiSA"},{value:1,text:"Quickcheck",code:"Quickcheck"},{value:2,text:"Ausschreibung LAS",code:"Ausschreibung LAS"},{value:3,text:"Ausschreibung Labor",code:"Ausschreibung Labor"}],value:S,onChange:function(e,t){var n=t.value;t.code;B(e.target.getAttribute("code")),E(n)}}),Object(v.jsxs)(I.a.Field,{children:[Object(v.jsx)("label",{children:"Honorar"}),Object(v.jsx)(Oe.a,{placeholder:"Betrag in \u20ac (netto)",value:Z.honorar,onValueChange:function(e){console.log(e);e.formattedValue;var t=e.value,n=e.floatValue;G((function(e){return Object(P.a)(Object(P.a)({},e),{},{honorar:t,honorarstring:n.toLocaleString("de-DE",{style:"currency",currency:"EUR"})})}))},isNumericString:!0,decimalScale:2,thousandSeparator:".",decimalSeparator:",",prefix:"\u20ac ",customInput:V.a})]}),Object(v.jsxs)(I.a.Field,{children:[Object(v.jsx)("label",{children:"Reisekosten"}),Object(v.jsx)(Oe.a,{placeholder:"Betrag in \u20ac (netto)",value:Z.suply,onValueChange:function(e){e.formattedValue;var t=e.value,n=e.floatValue;G((function(e){return Object(P.a)(Object(P.a)({},e),{},{suply:t,suplystring:n.toLocaleString("de-DE",{style:"currency",currency:"EUR"})})}))},isNumericString:!0,decimalScale:2,thousandSeparator:".",decimalSeparator:",",prefix:"\u20ac ",customInput:V.a})]}),Object(v.jsx)(I.a.Field,{multiple:!0,selection:!0,control:u.a,label:"Projektteam",fluid:!0,placeholder:"Team ausw\xe4hlen",options:l,value:x,onChange:function(e,t){var n=t.value;return m(n)}}),Object(v.jsx)(I.a.Field,{selection:!0,control:u.a,label:"Zahlung",fluid:!0,placeholder:"Zahlungsmodalit\xe4t ausw\xe4hlen",options:[{value:0,text:"Rein netto, 14 Tage nach Rechnungseingang."},{value:1,text:"50% des Honorars werden nach Erstellung der Vergabeunterlagen, die verbleibenden 50% bei Projektabschluss (Zuschlagserteilung) berechnet. Rein netto, 14 Tage nach Rechnungseingang."},{value:2,text:"50% des Honorars werden nach Fertigstellung der IST-Analyse, die verbleibenden 50% bei Projektabschluss berechnet. Rein netto, 14 Tage nach Rechnungseingang."}],value:M,onChange:function(e,t){var n=t.value;R(n),G((function(t){return Object(P.a)(Object(P.a)({},t),{},{modalstring:e.target.innerText})}))}})]})}),Object(v.jsxs)(T.a.Actions,{children:[Object(v.jsx)(_.a,{negative:!0,onClick:function(){return a(!1)},children:"Abbrechen"}),Object(v.jsx)(he,{filepath:Se,filename:"Angebot-".concat(H,"-").concat(e.project_number,".docx"),data:Z,render:function(e){return Object(v.jsx)(_.a,{icon:"file word",content:"offer",color:"blue",style:{marginBottom:".3rem"},onClick:function(){return e()}})}})]})]})},_e=n(476);var Ee=function(e){var t=e.projectID,n=g((function(e){return[e.projectdata,e.setProjectdata]})),c=Object(i.a)(n,2),a=c[0],o=c[1],s=g((function(e){return[e.projectHonorar,e.setProjectHonorar]})),u=Object(i.a)(s,2),l=u[0],d=u[1],p=g((function(e){return[e.editModalOpen,e.setEditModalOpen]})),b=Object(i.a)(p,2),f=b[0],h=b[1],O=g((function(e){return[e.createOfferModel,e.setCreateOfferModel]})),x=Object(i.a)(O,2),m=x[0],k=x[1],C=g((function(e){return e.invoices}));Object(r.useEffect)((function(){if(C){var e=0;C.forEach((function(t){return e+=parseFloat(t.amount)})),d(e)}}),[C]),Object(r.useEffect)((function(){console.log(a)}),[a]);var S=function(){var e=Object(y.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("projects/".concat(t,"/"));case 3:n=e.sent,o(n.data),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=new Date(a.created_at).toLocaleDateString("de",{hour:"numeric",minute:"numeric"});return Object(r.useEffect)((function(){S()}),[f]),_e.isEmpty(a)?Object(v.jsx)(le.a,{active:!0,inverted:!0,children:Object(v.jsx)(je.a,{size:"medium",children:"Loading"})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ye.a,{divided:!0,relaxed:!0,children:[Object(v.jsx)(ye.a.Item,{children:Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(ye.a.Header,{as:"h2",children:a.title}),Object(v.jsxs)(ye.a.Description,{as:"p",style:{marginBottom:0},children:[Object(v.jsx)("strong",{children:"Erstellt:"})," ",I]}),Object(v.jsxs)(ye.a.Description,{as:"p",children:[Object(v.jsx)("strong",{children:"Projektnr:"})," ",a.project_number]})]})}),Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(Z.a,{rounded:!0,style:{width:"23.625px",marginRight:"6px"},src:a.client.image}),Object(v.jsx)(ye.a.Content,{children:Object(v.jsx)(ye.a.Header,{as:"h3",children:a.client.name})})]}),Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Icon,{name:"eur",size:"large",verticalAlign:"middle"}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(ye.a.Header,{style:{marginLeft:"11px"},as:"h4",children:"Honorar"}),Object(v.jsx)(ye.a.Description,{style:{marginLeft:"11px"},children:Object(v.jsx)("strong",{style:{color:"green"},children:l&&l.toLocaleString("de")+" \u20ac"})})]})]}),Object(v.jsxs)(ye.a.Item,{children:[Object(v.jsx)(ye.a.Icon,{name:"map",size:"large",verticalAlign:"middle"}),Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(ye.a.Header,{as:"h4",children:"Anschrift"}),Object(v.jsxs)(ye.a.Description,{children:[Object(v.jsx)("strong",{children:"Stra\xdfe: "}),a.street," ",a.street&&Object(v.jsx)(j.a,{color:"green",name:"check"})]}),Object(v.jsxs)(ye.a.Description,{children:[Object(v.jsx)("strong",{children:"Plz: "}),a.plz," ",a.plz&&Object(v.jsx)(j.a,{color:"green",name:"check"})]}),Object(v.jsxs)(ye.a.Description,{children:[Object(v.jsx)("strong",{children:"Ort: "}),a.place," ",a.place&&Object(v.jsx)(j.a,{color:"green",name:"check"})]}),Object(v.jsxs)(ye.a.Description,{children:[Object(v.jsx)("strong",{children:"Kontakt: "}),a.contact," ",a.contact&&Object(v.jsx)(j.a,{color:"green",name:"check"})]}),Object(v.jsxs)(ye.a.Description,{children:[Object(v.jsx)("strong",{children:"Abteilung: "}),a.part," ",a.part&&Object(v.jsx)(j.a,{color:"green",name:"check"})]})]})]}),Object(v.jsx)(ye.a.Item,{children:Object(v.jsxs)(ye.a.Content,{children:[Object(v.jsx)(_.a,{style:{marginBottom:".3rem"},icon:"edit",content:"edit",onClick:function(){return h(!0)}}),Object(v.jsx)(_.a,{icon:"file word",content:"create",onClick:function(){return k(!0)}})]})})]}),Object(v.jsx)(T.a,{open:f,children:Object(v.jsx)(Ce,{})}),Object(v.jsx)(T.a,{open:m,children:Object(v.jsx)(Ie,{})})]})};var De=function(e){var t=e.match.params.id;return Object(v.jsx)(C.a,{stackable:!0,columns:3,children:Object(v.jsxs)(C.a.Row,{style:{minHeight:"343px"},stretched:!0,children:[Object(v.jsx)(C.a.Column,{computer:4,tablet:16,children:Object(v.jsx)(L.a,{children:Object(v.jsx)(Ee,{projectID:t})})}),Object(v.jsx)(C.a.Column,{computer:4,tablet:16,children:Object(v.jsx)(L.a,{children:Object(v.jsx)(ue.a.Group,{fluid:!0,vertical:!0,children:Object(v.jsx)(we,{projectID:t})})})}),Object(v.jsx)(C.a.Column,{computer:8,tablet:16,children:Object(v.jsx)(L.a,{children:Object(v.jsx)(me,{projectID:t})})})]})})};var Fe=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(i.a)(a,2),s=o[0],u=o[1],l=g((function(e){return[e.invoiceStati,e.setInvoiceStati]})),d=Object(i.a)(l,2),b=d[0],f=d[1],h=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("projects/");case 3:t=e.sent,u(t.data),console.log(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("invoicesall/");case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/invoicestatus/");case 3:t=e.sent,f(t.data.map((function(e){return{value:e.id,text:e.name,icon:e.icontext}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){O(),x(),h()}),[]),Object(r.useEffect)((function(){console.log(n)}),[n]),Object(v.jsx)(B.a,{title:"Projektliste",columns:[{title:"Name",field:"title"},{title:"Rechnungsnummer",field:"invoice_number"},{title:"Projekt",field:"project",render:function(e){var t=s.find((function(t){return t.id===e.project}));return Object(v.jsx)(p.b,{to:"/projects/".concat(t&&t.id),children:t&&t.title})}},{title:"Kunde",field:"invoice_number",render:function(e){var t=s.find((function(t){return t.id===e.project}));return Object(v.jsx)("p",{children:t&&t.client.name})}},{title:"Status",field:"status",lookup:{1:"angelegt",2:"gestellt",3:"erhalten"},render:function(e){var t=b.find((function(t){return t.value===e.status}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{style:{marginRight:".2rem"},children:t&&t.text}),Object(v.jsx)(j.a,{color:t&&3===t.value?"green":t&&2===t.value?"yellow":"black",name:t&&t.icon})]})}},{title:"Offen (Tagen)",field:"date_of_invoicing",filtering:!1,render:function(e){var t=new Date,n=new Date(e.date_of_invoicing),r=(t.getTime()-n.getTime())/864e5;return e.date_of_invoicing?Math.trunc(r):"-"}},{title:"Rechnungsstellung",field:"date_of_invoicing",type:"date",dateSetting:{locale:"de"},render:function(e){return e.date_of_invoicing?new Date(e.date_of_invoicing).toLocaleDateString("de"):"-"}},{title:"Zahlungseingang",field:"date_of_payment",render:function(e){return e.date_of_payment?new Date(e.date_of_payment).toLocaleDateString("de"):"-"}},{title:"Betrag",field:"amount",type:"currency",currencySetting:{locale:"de",currencyCode:"EUR"}}],data:n,options:{filtering:!0,actionsColumnIndex:-1,sorting:!0,exportButton:!0}})};var Ae=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Fe,{})})};var Pe=function(){return Object(v.jsx)(p.a,{children:Object(v.jsx)(m,{children:Object(v.jsx)("div",{style:{margin:"2rem"},children:Object(v.jsxs)(d.d,{children:[Object(v.jsx)(R,{exact:!0,path:"/",component:W}),Object(v.jsx)(R,{exact:!0,path:"/clients",component:se}),Object(v.jsx)(R,{exact:!0,path:"/invoices",component:Ae}),Object(v.jsx)(R,{exact:!0,path:"/projects/:id",component:De}),Object(v.jsx)(d.b,{exact:!0,path:"/login",children:Object(v.jsx)(A,{})})]})})})})};o.a.render(Object(v.jsx)(Pe,{}),document.getElementById("root"))}},[[630,1,2]]]);
//# sourceMappingURL=main.ec02b40a.chunk.js.map